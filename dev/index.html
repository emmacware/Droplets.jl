<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Droplets.jl</title><meta name="title" content="Home · Droplets.jl"/><meta property="og:title" content="Home · Droplets.jl"/><meta property="twitter:title" content="Home · Droplets.jl"/><meta name="description" content="Documentation for Droplets.jl."/><meta property="og:description" content="Documentation for Droplets.jl."/><meta property="twitter:description" content="Documentation for Droplets.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Droplets.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Functions"><span>Functions</span></a></li><li class="toplevel"><a class="tocitem" href="#Types"><span>Types</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/emmacware/Droplets.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/emmacware/Droplets.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Droplets"><a class="docs-heading-anchor" href="#Droplets">Droplets</a><a id="Droplets-1"></a><a class="docs-heading-anchor-permalink" href="#Droplets" title="Permalink"></a></h1><p>Superdroplet Method Logic for Cloud Microphysics</p><h1 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.FK-Tuple{Any}" href="#Droplets.FK-Tuple{Any}"><code>Droplets.FK</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FK(T)
FD(T)
Functions in the Denominator of the Köhler Equation</code></pre><p>Uses the constants structs defined in Droplets</p><p><strong>Arguments</strong></p><ul><li><code>T</code>: Temperature in K</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/condensation.jl#L35-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.adaptive_pαdt!-Union{Tuple{FT}, Tuple{Vector{Tuple{Int64, Int64}}, droplet_attributes, coagulation_run, Ref{FT}, Function, coag_settings{FT}}} where FT&lt;:AbstractFloat" href="#Droplets.adaptive_pαdt!-Union{Tuple{FT}, Tuple{Vector{Tuple{Int64, Int64}}, droplet_attributes, coagulation_run, Ref{FT}, Function, coag_settings{FT}}} where FT&lt;:AbstractFloat"><code>Droplets.adaptive_pαdt!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">adaptive_pαdt!(L::Vector{Tuple{Int,Int}}, droplets::droplet_attributes, coag_data::coagulation_run, t_left::Ref{FT}, kernel::Function, settings::coag_settings{FT}) where FT&lt;:AbstractFloat</code></pre><p>Map the probability function over the list of droplet pairs, L, using adaptive timestepping logic and update the coagulation data in place.</p><p><strong>Arguments</strong></p><ul><li><code>L::Vector{Tuple{Int,Int}}</code>: List of droplet indices.</li><li><code>droplets::droplet_attributes</code>: Droplet attributes.</li><li><code>coag_data::coagulation_run</code>: Coagulation data.</li><li><code>t_left::Ref{FT}</code>: Timestep after adaptive substep.</li><li><code>kernel::Function</code>: Coalescence kernel function.</li><li><code>settings::coag_settings{FT}</code>: Coagulation settings.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/coalescence.jl#L469-L482">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.calc_ρw-Tuple{Any, Any, Any}" href="#Droplets.calc_ρw-Tuple{Any, Any, Any}"><code>Droplets.calc_ρw</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calc_ρw(ξ, X, ΔV)</code></pre><p>Calculate the density of liquid water (ρw) based on the given droplet multiplicity(ξ) and volume(X), and domain volume.</p><p><strong>Returns</strong></p><ul><li><code>ρw</code>: density of water</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/density.jl#L45-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.calc_ρw-Tuple{Any, Any}" href="#Droplets.calc_ρw-Tuple{Any, Any}"><code>Droplets.calc_ρw</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calc_ρw(droplets, ΔV)</code></pre><p>Calculate the density of water (ρw) based on the given droplet attributes and domain volume.</p><p><strong>Arguments</strong></p><ul><li><code>droplets</code>: an array of droplets with attributes <code>ξ</code> (multiplicity) and <code>X</code> (volume).</li><li><code>ΔV</code>: grid cell volume.</li></ul><p><strong>Returns</strong></p><ul><li><code>ρw</code>: density of water</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/density.jl#L27-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.coalescence_timestep!-Union{Tuple{FT}, Tuple{Union{Parallel, Serial}, none, droplet_attributes, coagulation_run, coag_settings{FT}}} where FT&lt;:AbstractFloat" href="#Droplets.coalescence_timestep!-Union{Tuple{FT}, Tuple{Union{Parallel, Serial}, none, droplet_attributes, coagulation_run, coag_settings{FT}}} where FT&lt;:AbstractFloat"><code>Droplets.coalescence_timestep!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">coalescence_timestep!(run::backend, scheme::scheme_type, droplets::droplet_attributes)</code></pre><p>Perform a coalescence timestep for the given droplets using the Superdroplet Method (SDM)  Shima et al. (2009) when the lowest multiplicity of superdroplets is less than 1, the  largest superdroplet is split into two equal parts, as proposed by Dziekan and Pawlowska (ACP, 2017) https://doi.org/10.5194/acp-17-13509-2017</p><p><strong>Arguments</strong></p><ul><li><code>run::backend</code>: Threading over Linear Sampling option</li><li><code>scheme::schemetype</code>: adaptive or none</li><li><code>droplets::droplet_attributes</code>: The superdroplets.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/coalescence.jl#L498-L512">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.compute_pαdt!-Union{Tuple{FT}, Tuple{Vector{Tuple{Int64, Int64}}, droplet_attributes, coagulation_run, Function, FT, coag_settings{FT}}} where FT&lt;:AbstractFloat" href="#Droplets.compute_pαdt!-Union{Tuple{FT}, Tuple{Vector{Tuple{Int64, Int64}}, droplet_attributes, coagulation_run, Function, FT, coag_settings{FT}}} where FT&lt;:AbstractFloat"><code>Droplets.compute_pαdt!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_pαdt!(L::Vector{Tuple{Int,Int}}, droplets::droplet_attributes, coag_data::coagulation_run, kernel::Function, scale::FT,scalecoagsettings::coag_settings{FT}) where FT&lt;:AbstractFloat</code></pre><p>Map the probability function over the list of droplet pairs, L, and update the coagulation data in place.</p><p><strong>Arguments</strong></p><ul><li><code>L::Vector{Tuple{Int,Int}}</code>: List of droplet indices to be considered for coalescence.</li><li><code>droplets::droplet_attributes</code>: Droplet attributes.</li><li><code>coag_data::coagulation_run</code>: Coagulation data.</li><li><code>kernel::Function</code>: Coalescence kernel function.</li><li><code>scale::FT</code>: Scaling factor for the linear coalescence probability.</li><li><code>coagsettings::coag_settings{FT}</code>: Coagulation settings.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/coalescence.jl#L445-L458">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.dXkohler_function_of_radius-NTuple{6, Any}" href="#Droplets.dXkohler_function_of_radius-NTuple{6, Any}"><code>Droplets.dXkohler_function_of_radius</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dXkohler_function_of_radius(R, M, m, T, Senv, timestep)</code></pre><p>Calculate the change in droplet volume due to condensation using the Kohler equation.</p><p><strong>Arguments</strong></p><ul><li><code>R</code>: Droplet radius</li><li><code>M</code>: Molecular weight of the droplet substance</li><li><code>m</code>: Molecular weight of the dry air</li><li><code>T</code>: Temperature</li><li><code>Senv</code>: Saturation of the environment</li><li><code>timestep</code>: Time step</li></ul><p><strong>Returns</strong></p><ul><li><code>dX</code>: Change in droplet mass</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/condensation.jl#L179-L195">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.dXkohler_function_of_radius-NTuple{7, Any}" href="#Droplets.dXkohler_function_of_radius-NTuple{7, Any}"><code>Droplets.dXkohler_function_of_radius</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dXkohler_function_of_radius(R, M, m, T, qv, P, timestep)</code></pre><p>Calculate the change in droplet volume due to condensation using the Kohler equation.</p><p><strong>Arguments</strong></p><ul><li><code>R</code>: Droplet radius</li><li><code>M</code>: Molecular weight of the droplet substance</li><li><code>m</code>: Molecular weight of the dry air</li><li><code>T</code>: Temperature</li><li><code>qv</code>: Water vapor mixing ratio</li><li><code>P</code>: Pressure</li><li><code>timestep</code>: Time step</li></ul><p><strong>Returns</strong></p><ul><li><code>dX</code>: Change in droplet volume</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/condensation.jl#L156-L173">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.dXkohler_function_of_radius_activated-NTuple{4, Any}" href="#Droplets.dXkohler_function_of_radius_activated-NTuple{4, Any}"><code>Droplets.dXkohler_function_of_radius_activated</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dXkohler_function_of_radius_activated(R, T, Senv, timestep)</code></pre><p>Calculate the change in droplet volume due to condensation using the Kohler equation for activated droplets,     neglecting solute.</p><p><strong>Arguments</strong></p><ul><li><code>R</code>: Droplet radius</li><li><code>T</code>: Temperature</li><li><code>Senv</code>: Saturation of the environment</li><li><code>timestep</code>: Time step</li></ul><p><strong>Returns</strong></p><ul><li><code>dX</code>: Change in droplet mass</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/condensation.jl#L201-L216">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.dq_liq_cond-NTuple{7, Any}" href="#Droplets.dq_liq_cond-NTuple{7, Any}"><code>Droplets.dq_liq_cond</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dq_liq_cond(R, M, m, T, Senv, timestep, ρ_air)</code></pre><p>Calculate the change in q, liquid mixing ratio due to condensation of droplets, using droplet solute information.</p><p><strong>Arguments</strong></p><ul><li><code>R</code>: Droplet radius, meters</li><li><code>M</code>: Molecular weight of the droplet</li><li><code>m</code>: Molecular weight of the solute</li><li><code>T</code>: Temperature</li><li><code>Senv</code>: Environmental saturation</li><li><code>timestep</code>: Time step</li><li><code>ρ_air</code>: Density of air</li></ul><p><strong>Returns</strong></p><ul><li><code>dql</code>: Change in liquid water mass</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/condensation.jl#L224-L242">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.dq_liq_cond_activated-NTuple{5, Any}" href="#Droplets.dq_liq_cond_activated-NTuple{5, Any}"><code>Droplets.dq_liq_cond_activated</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dq_liq_cond_activated(R, T, Senv, timestep, ρ_air)
dq_liq_cond_activated(R, M, m, T, Senv, timestep, ρ_air)</code></pre><p>Calculate the change in liquid water mass due to condensation of activated droplets.</p><p><strong>Arguments</strong></p><ul><li><code>R</code>: Droplet radius, meters</li><li><code>T</code>: Temperature</li><li><code>Senv</code>: Environmental saturation</li><li><code>timestep</code>: Time step</li><li><code>ρ_air</code>: Density of air</li></ul><p><strong>Returns</strong></p><ul><li><code>dql</code>: Change in liquid water mass</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/condensation.jl#L249-L265">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.drkohler-NTuple{7, Any}" href="#Droplets.drkohler-NTuple{7, Any}"><code>Droplets.drkohler</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Methods:     -drkohler(R, M, m, T, qv, P, timestep)     -drkohler(R, M, m, T, Senv, timestep)</p><p>RHS of the Köhler equation.</p><p><strong>Arguments</strong></p><ul><li><code>R</code>: Droplet radius (m)</li><li><code>M</code>: Molecular weight of the solute (kg/mol)</li><li><code>m</code>: Molar mass of the solute (g/mol)</li><li><code>T</code>: Temperature (K)</li><li><code>qv</code>: Water vapor mixing ratio (kg/kg)</li><li><code>P</code>: Atmospheric pressure (Pa)</li><li><code>Senv</code>: Environmental saturation (dimensionless)</li><li><code>timestep</code>: Time step (s)</li></ul><p><strong>Returns</strong></p><ul><li><code>dr</code>: Change in droplet radius over the timestep (m)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/condensation.jl#L95-L114">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.drkohler_activated-NTuple{4, Any}" href="#Droplets.drkohler_activated-NTuple{4, Any}"><code>Droplets.drkohler_activated</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">drkohler_activated(R, T, Senv, timestep)</code></pre><p>Compute the rate of change of droplet radius for activated droplets, neglecting     differences in solutes.</p><p><strong>Arguments</strong></p><ul><li><code>R</code>: Radius of the droplets.</li><li><code>T</code>: Temperature.</li><li><code>Senv</code>: Environmental supersaturation.</li><li><code>timestep</code>: simulation Time step.</li></ul><p><strong>Returns</strong></p><p>dr: rate of change of droplet radius.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/condensation.jl#L133-L148">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.golovin-Union{Tuple{FT}, Tuple{droplet_attributes, Tuple{Int64, Int64}, coag_settings{FT}}} where FT&lt;:AbstractFloat" href="#Droplets.golovin-Union{Tuple{FT}, Tuple{droplet_attributes, Tuple{Int64, Int64}, coag_settings{FT}}} where FT&lt;:AbstractFloat"><code>Droplets.golovin</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">golovin(droplets, (j, k), settings)</code></pre><p>Golovin (or additive) kernel function for droplet coalescence, used to calculate the probabilities of two droplets colliding.     K(x,x&#39;) = b(x+x&#39;),where b is the Golovin kernel coefficient, and x is the volume of the droplet. Taken from Golovin (1963), this kernel has an analytic solution for the Smulochowski Coagulation Equation.</p><p><strong>Arguments</strong></p><ul><li><code>droplets</code>: droplet attributes</li><li><code>(j, k)</code>: indices of the droplets</li><li><code>settings</code>: coagulation settings</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/coalescence.jl#L387-L399">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.hydrodynamic-Union{Tuple{FT}, Tuple{droplet_attributes, Tuple{Int64, Int64}, coag_settings{FT}}} where FT&lt;:AbstractFloat" href="#Droplets.hydrodynamic-Union{Tuple{FT}, Tuple{droplet_attributes, Tuple{Int64, Int64}, coag_settings{FT}}} where FT&lt;:AbstractFloat"><code>Droplets.hydrodynamic</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">hydrodynamic(droplets::droplet_attributes, (j,k)::Tuple{Int,Int}, settings::coag_settings{FT})::FT where FT&lt;:AbstractFloat</code></pre><p>Hydronynamic kernel function for droplet coalescence, used to calculate the probabilities of two      droplets colliding.     K(r,r&#39;) = π * (r+r&#39;)^2 * |v(r)-v(r&#39;)| * E(r,r&#39;)     where E(r,r&#39;) is the collision efficiency function, (currently not implemented), and v is the terminal velocity of      a droplet of radius size r.</p><p><strong>Arguments</strong></p><ul><li><code>droplets::droplet_attributes</code>: The attributes of the droplets.</li><li><code>(j,k)::Tuple{Int,Int}</code>: The indices of the droplets.</li><li><code>settings::coag_settings{FT}</code>: The coagulation settings.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/coalescence.jl#L360-L374">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.init_ξ_const-Union{Tuple{coag_settings{FT}}, Tuple{FT}} where FT&lt;:AbstractFloat" href="#Droplets.init_ξ_const-Union{Tuple{coag_settings{FT}}, Tuple{FT}} where FT&lt;:AbstractFloat"><code>Droplets.init_ξ_const</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">init_ξ_const(settings::coag_settings{FT}) where FT&lt;:AbstractFloat</code></pre><p>init<em>ξ</em>const initializes droplets based on the constant-multiplicity initialization method, using an exponential distribution around the initial volume of the droplets. The method is as described in Shima et al. (2009) https://doi.org/10.5194/acp-9-4491-2009</p><p>Arguments</p><ul><li><code>settings</code>: Coagulation settings, type ::coag_settings.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/coalescence.jl#L121-L131">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.pair_Ps_adaptive!-Union{Tuple{FT}, Tuple{Int64, Tuple{Int64, Int64}, droplet_attributes, coagulation_run, Vector{FT}, Ref{FT}, Function, coag_settings{FT}}} where FT&lt;:AbstractFloat" href="#Droplets.pair_Ps_adaptive!-Union{Tuple{FT}, Tuple{Int64, Tuple{Int64, Int64}, droplet_attributes, coagulation_run, Vector{FT}, Ref{FT}, Function, coag_settings{FT}}} where FT&lt;:AbstractFloat"><code>Droplets.pair_Ps_adaptive!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">pair_Ps_adaptive!(α::Int, pair::Tuple{Int,Int}, droplets::droplet_attributes, coag_data::coagulation_run, t_max::Vector{FT})</code></pre><p>This function calculates the coalescence probability for a given pair of droplets, using adaptive timestepping logic (Bartman et al. 2021).  It takes the following arguments:</p><ul><li><code>α::Int</code>: The index of the coalescence model.</li><li><code>pair::Tuple{Int,Int}</code>: The indices of the droplets in the pair.</li><li><code>droplets::droplet_attributes</code>: The attributes of the droplets.</li><li><code>coag_data::coagulation_run</code>: The coagulation run data.</li><li><code>t_max::Vector{FT}</code>: The maximum timestep allowed given multiple sampling.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/coalescence.jl#L408-L420">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.radius_to_volume-Tuple{AbstractFloat}" href="#Droplets.radius_to_volume-Tuple{AbstractFloat}"><code>Droplets.radius_to_volume</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">radius_to_volume(R::AbstractFloat)</code></pre><p>Volume of sphere with radius R</p><p><strong>Arguments</strong></p><ul><li><code>R::AbstractFloat</code>: Radius in meters.</li></ul><p><strong>Returns</strong></p><ul><li>The volume of the droplet in meters^3.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/constants.jl#L63-L70">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.terminal_v-Tuple{FT} where FT&lt;:AbstractFloat" href="#Droplets.terminal_v-Tuple{FT} where FT&lt;:AbstractFloat"><code>Droplets.terminal_v</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">terminal_v(r::FT) where FT&lt;:AbstractFloat</code></pre><p>Compute the terminal velocity of a droplet of radius r, using tables from Gunn and Kinzer, (1949), https://doi.org/10.1175/1520-0469(1949)006&lt;0243:TTVOFF&gt;2.0.CO;2</p><p><strong>Arguments</strong></p><ul><li><code>r::FT</code>: The radius of the droplet in meters.</li></ul><p><strong>Returns</strong></p><p>The terminal velocity of the droplet in meters/second.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/coalescence.jl#L303-L315">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.volume_to_radius-Tuple{AbstractFloat}" href="#Droplets.volume_to_radius-Tuple{AbstractFloat}"><code>Droplets.volume_to_radius</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">volume_to_radius(V::AbstractFloat)</code></pre><p>radius based on spherical volume</p><p><strong>Arguments</strong></p><ul><li><code>V::AbstractFloat</code>: Spherical volume in meters^3.</li></ul><p><strong>Returns</strong></p><ul><li>The radius of the droplet in meters.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/constants.jl#L47-L58">source</a></section></article><h1 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.Constants" href="#Droplets.Constants"><code>Droplets.Constants</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Constants{FT&lt;:AbstractFloat}</code></pre><p>A struct representing constants used in the Droplets package.</p><p><strong>Fields</strong></p><ul><li><p><code>FT</code>: The type of the constants, which must be a subtype of <code>AbstractFloat</code>.</p></li><li><p><code>k</code>: thermal conductivity (default: 0.024).</p></li><li><p><code>μ</code>: dynamic viscosity (default: 1.6e-5).</p></li><li><p><code>Dv</code>: diffusion coefficient of water vapor in air (default: 2.26e-5).</p></li><li><p><code>ρl</code>: density of liquid water (default: 1000.0).</p></li><li><p><code>Rd</code>: gas constant for dry air (default: 287.0).</p></li><li><p><code>Rv</code>: gas constant for water vapor (default: 461.0).</p></li><li><p><code>gconst</code>: gravitational constant (default: 9.8).</p></li><li><p><code>L</code>: latent heat of vaporization (default: 22.6e5).</p></li><li><p><code>Cp</code>: specific heat of dry air at constant pressure (default: 4181).</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/constants.jl#L8-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.coag_settings" href="#Droplets.coag_settings"><code>Droplets.coag_settings</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">coag_settings{FT&lt;:AbstractFloat}</code></pre><p>A struct representing the settings for coalescence.</p><p><strong>Fields</strong></p><ul><li><code>FT</code>: AbstractFloat.</li><li><code>Δt</code>: The time step for the coalescence simulation.</li><li><code>ΔV</code>: The volume of the coalescence domain.</li><li><code>Ns</code>: The number of superdroplets.</li><li><code>scale</code>: The scaling factor that allows for linear sampling.</li><li><code>R_min</code>: The minimum radius of sampled droplets, used in some initializations. Radius in meters</li><li><code>R_max</code>: The maximum radius of sampled droplets, used in some initializations. Radius in meters.</li><li><code>golovin_kernel_coeff</code>: The Golovin kernel coefficient, 1/seconds.</li><li><code>hydrodynamic_collision_eff_func</code>: A boolean indicating whether to use the       hydrodynamic collision efficiency function. Currently not implemented.</li><li><code>kernel</code>: The kernel function used for coalescence. Implemented options are <code>golovin</code> or <code>hydrodynamic</code>,   can take any user implemented function with input type (::droplet<em>attributes, pairindex::Tuple{Int,Int}, ::coag</em>settings{FT}).</li><li><code>n0</code>: The initial real world droplet concentration.</li><li><code>R0</code>: The initial seed radius of the droplets.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/coalescence.jl#L29-L49">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.coagulation_run" href="#Droplets.coagulation_run"><code>Droplets.coagulation_run</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct coagulation_run{FT&lt;:AbstractFloat}</code></pre><p>Struct initialising temp memory used for coagulation.</p><p>Input:</p><ul><li>Ns::Int : Number of superdroplets.</li></ul><p>Fields:</p><ul><li>I::Vector{Int} : Vector of indexes to be shuffled for permutations.</li><li>pαdt::Vector{FT} : Vector of coalescence probabilities for each pair.</li><li>ϕ::Vector{FT} : Random numbers to be used in Monte Carlo coalescence.</li><li>lowest_zero::Ref{Bool} : Reference to a boolean indicating if the lowest multiplicity is zero.</li><li>deficit::Ref{FT} : Reference to a float representing the deficit in mass or volume.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/coalescence.jl#L82-L97">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.droplet_attributes" href="#Droplets.droplet_attributes"><code>Droplets.droplet_attributes</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct droplet_attributes{FT&lt;:AbstractFloat}</code></pre><p>A struct representing the attributes of a droplet.</p><p>Fields:</p><ul><li>FT: AbstractFloat.</li><li>ξ: Vector of integers representing the multiplicity of each droplet.</li><li>R: Vector of floats representing the radius of each droplet.</li><li>X: Vector of floats representing the volume of each droplet.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/coalescence.jl#L64-L75">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Droplets.run_settings" href="#Droplets.run_settings"><code>Droplets.run_settings</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct run_settings{FT&lt;:AbstractFloat}</code></pre><p>A struct representing the run settings for the binning process.</p><p>Fields:</p><ul><li><code>FT</code>: The type of floating-point numbers used in the run settings.</li><li><code>num_bins</code>: The number of bins to use for binning output(default: 128).</li><li><code>radius_bins_edges</code>: The edges of the bins for the radius (default: logarithmic scale from 10e-6 to 5e3e-6).</li><li><code>smooth</code>: A boolean indicating whether to apply smoothing to the bins (default: true).</li><li><code>smooth_scope</code>: The scope of smoothing (default: 2).</li><li><code>init_random_seed</code>: The random seed for initialization (default: 30).</li><li><code>coag_threading</code>: The threading method for coalescence (default: Serial).<ul><li>Serial() or Parallel()</li></ul></li><li><code>scheme</code>: The scheme to use for coalescence (default: none).   -none(), Adaptive()</li><li><code>output_steps</code>: The time steps at which to output the results (default: [0, 1200, 2400, 3600]).</li><li><code>init_method</code>: The method to use for initialization (default: init_logarithmic).<ul><li>init<em>logarithmic,init</em>ξ<em>const, init</em>uniform_sd</li></ul></li><li><code>binning_method</code>: The method to use for binning (default: mass<em>density</em>lnr).    (a function that takes droplets and coagsettings as arguments)</li><li><code>normalize_bins_dlnr</code>: A boolean indicating whether to normalize the bins by the logarithm of the radius (default: true).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/emmacware/Droplets.jl/blob/553dd9b8cc89641a63d1b7b3db642743886d2a8a/src/SDfunc/binning.jl#L8-L31">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Wednesday 16 April 2025 20:44">Wednesday 16 April 2025</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
